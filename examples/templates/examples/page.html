{% extends 'examples/base.html' %}
{% load dynamicforms %}
{% block title %}
    {% if tables and tables_page_title %}
        {{ tables_page_title }}
    {% else %}
        {{ serializer.page_title }}
    {% endif %}
{% endblock %}
{% block body %}
    {% if DYNAMICFORMS.bootstrap_version %}
        <div class="{{ DYNAMICFORMS.bs_card_class }}">
            <div class="{{ DYNAMICFORMS.bs_card_header }}">
                {% if tables %}
                    {% include "dynamicforms/multiple_tables.html" with tables=tables %}
                {% else %}
                    {% get_data_template as data_template %}
                    {{ serializer.page_title }}
                    {% if serializer.render_type == 'table' %}{% render_table_commands serializer 'header' %}{% endif %}
                    </div>
                    <div class="{{ DYNAMICFORMS.bs_card_body }}">
                        {% include data_template with serializer=serializer data=data %}
                    </div>
                {% endif %}
        </div>
        {% include "dynamicforms/bootstrap/progress_dialog.html" %}
    {% elif DYNAMICFORMS.jquery_ui %}
        <div class="accordion df-card">
            {% if tables %}
                {% include "dynamicforms/multiple_tables.html" with tables=tables %}
            {% else %}
                {% get_data_template as data_template %}
                <div>{{ serializer.page_title }}
                    <span class="add-btn">{% if serializer.render_type == 'table' %}
                        {% render_table_commands serializer 'header' %}{% endif %}</span>
                </div>
                <div>
                    {% include data_template with serializer=serializer data=data %}
                </div>
            {% endif %}
        </div>
        {% include "dynamicforms/jquery_ui/progress_dialog.html" %}
        <script type="text/javascript">
            $(".accordion").accordion({
                heightStyle: "content",
                collapsible: false,
                icons: false
            });
        </script>
    {% endif %}
{% endblock %}
